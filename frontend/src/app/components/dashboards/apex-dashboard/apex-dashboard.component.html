<div class="dashboard-container">
  <div class="sidebar">
    <app-sidebar-menu></app-sidebar-menu>
  </div>

  <div class="main-content">
    <p-card header="Apex Dashboard" class="m-4">
      <p><strong>Welcome to the Apex Dashboard!</strong></p>

      <div class="p-fluid mt-4">
        <div class="p-field mb-3">
          <label for="username">Username</label>
          <input id="username" type="text" pInputText [(ngModel)]="username" />
        </div>

        <button pButton label="Get Functionalities" (click)="searchUser()"></button>

        <div *ngIf="user" class="mt-4">
          <h4>User: {{ user.userName }} | Role: {{ user.userRole }}</h4>

          <div *ngFor="let func of roleFunctionalities" class="mb-2">
            <p-checkbox
              [binary]="true"
              [label]="func"
              [ngModel]="isChecked(func)"
              (onChange)="onToggle(func, $event)">
            </p-checkbox>
          </div>

          <button
            pButton
            label="Save Changes"
            class="mt-3"
            (click)="saveChanges()">
          </button>
        </div>
      </div>
    </p-card>
  </div>
</div>